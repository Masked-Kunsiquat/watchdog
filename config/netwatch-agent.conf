# Netwatch Agent Configuration
#
# This file is sourced by netwatch-agent.sh and should contain only
# KEY=VALUE pairs. It will be installed to /etc/default/netwatch-agent
# with permissions 0640 (root:root).
#

# Space-separated IP addresses to probe for WAN connectivity
# Use IPs (not DNS names) to avoid resolver coupling
TARGETS="1.1.1.1 8.8.8.8 9.9.9.9"

# Minimum number of targets that must respond per check to consider WAN up
MIN_OK=1

# Number of ICMP echo requests per target
PING_COUNT=1

# Timeout in seconds for each ping probe
PING_TIMEOUT=1

# Seconds between health check loops
CHECK_INTERVAL=10

# Continuous outage duration (seconds) before triggering reboot
# Default: 600s (10 minutes)
DOWN_WINDOW_SECONDS=600

# Grace period after boot before monitoring starts (seconds)
# Prevents premature reboots during system startup
BOOT_GRACE=180

# Minimum seconds between reboots (prevents boot loops)
# Default: 1200s (20 minutes)
COOLDOWN_SECONDS=1200

# Probe method: auto (prefer fping), yes (require fping), no (force ping)
USE_FPING="auto"

# Dry-run mode: 1 = log only (no reboot), 0 = normal operation
DRY_RUN=0

# If this file exists, the watchdog pauses (no reboots)
DISABLE_FILE="/etc/netwatch-agent.disable"
